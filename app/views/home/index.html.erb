<div class="container mx-auto max-w-md py-8 space-y-6">

  <!-- たばこに使った合計金額 -->
  <div class="border-2 border-green-500 rounded-xl p-4 flex items-center shadow">
    <span class="text-3xl mr-3">💴</span>
    <div class="flex-1 text-center">
      <p class="font-bold text-sm">たばこに使った金額</p>
      <div id="total_amount">
        <%= render "home/total_amount" %>
      </div>
    </div>
  </div>

  <!-- たばこの合計箱数 -->
  <div class="border-2 border-green-500 rounded-xl p-4 flex items-center shadow">
    <span class="text-3xl mr-3">🚬</span>
    <div class="flex-1 text-center">
      <p class="font-bold text-sm">購入した箱数</p>
      <div id="total_packs">
        <%= render "home/total_packs" %>
      </div>
    </div>
  </div>

  <!-- 現在の銘柄 -->
  <div class="border-2 border-green-500 rounded-xl p-4 flex items-center shadow">
    <span class="text-3xl mr-3">🚬</span>
    <div class="flex-1 text-center">
      <div class="flex justify-center items-center space-x-2">
        <p class="font-bold text-sm">現在の銘柄</p>
        <%= link_to "銘柄変更", select_cigarettes_path,
              class: "text-blue-500 underline text-sm" %>
      </div>
      <p class="text-2xl font-bold text-gray-800">
        <%= current_user.current_cigarette&.name ||
            current_user.current_custom_cigarette&.name ||
            "未選択" %>
      </p>
    </div>
  </div>

  <!-- 箱数をカウントする -->
  <div class="border rounded-xl p-4 shadow space-y-3 text-center">
    <p class="font-bold">箱数をカウントする</p>

    <% if current_user.current_cigarette.present? %>
      <%= form_with model: Smoke.new, url: smokes_path, method: :post do |f| %>
        <div class="flex justify-center space-x-2">
          <%= f.select :packs, (1..12).to_a, {}, class: "border rounded p-2" %>
          <%= f.submit "登録", class: "bg-green-500 text-white font-bold px-4 py-2 rounded cursor-pointer" %>
        </div>
      <% end %>
    <% elsif current_user.current_custom_cigarette.present? %>
      <%= form_with model: CustomCigaretteLog.new, url: custom_cigarette_logs_path, method: :post do |f| %>
        <div class="flex justify-center space-x-2">
          <%= f.select :packs, (1..12).to_a, {}, class: "border rounded p-2" %>
          <%= f.submit "登録", class: "bg-green-500 text-white font-bold px-4 py-2 rounded cursor-pointer" %>
        </div>
      <% end %>
    <% else %>
      <p class="text-gray-500">現在の銘柄が未選択です</p>
    <% end %>
  </div>

  <!-- 買えたものリスト -->
  <div>
    <%= link_to "買えたもののリストを見る", items_path, 
          class: "w-full block text-center bg-green-600 text-white font-bold px-4 py-3 rounded shadow hover:bg-green-500" %>
  </div>

  <!-- Xで共有 -->
  <div>
    <%= link_to "Xで共有", "#", 
          class: "w-full block text-center bg-black text-white font-bold px-4 py-3 rounded" %>
  </div>
</div>
